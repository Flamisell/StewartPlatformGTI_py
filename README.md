# Optimal design of a Stewart platform using the global transmission index under determinate constraint of workspace

---

This repository is the application of the Research article
first published online October 23, 2017 :

"*Optimal design of a Stewart platform using the global transmission index under determinate constraint of workspace* "
(https://doi.org/10.1177/168781401772088) (https://journals.sagepub.com/doi/10.1177/1687814017720880)


You can use this repository to find the optimal set of parameters which define a Stewart Platform (base_radius,base_angle,platform_radius,platform_angles) based on the maximization of the Global Transmission Index. In this article, screw theory is used to find the transmissability indexes: "*The transmissibility indexes describe the transmission ability from the joint force to the platform movement.*"

The big advantage of this paper is the possibility to optimise the joint configuration of the parallel manipulator based on frame-free and unit homogeneous indexes.


- Due to ne natural frame-dependence of the Jacobian, each index coming from it will be directly dependent on the position in space of the platform : "*Thus, those evaluation indexes share common drawbacks such as frame-dependent property and the unit inhomogeneous problem*". Because the Transmission Index is based on power transmission, which is a scalar, we can solve such drawbacks: "*Thus, this kind of evaluation indexes is frame-free and unit homogeneous.*"


---
This repository focuses on replicating the analysis presented in the referenced paper.  
First, a brief explanation of screw theory, which serves as the foundation for this paper, is provided. Then, the explained step-by-step procedure outlined in the paper is carefully implemented.

## Table of Contents

- [Explanation of Screw Theory and Global Transmission Index](#explanation-of-screw-theory-and-global-transmission-index) 
- [Procedure](#procedure)
  - [Step1: Definition of the Space Docking Mechanism](#step1-definition-of-the-space-docking-mechanism)
  - [Step2: Calculation of Transmission Wrench Screws](#step2-calculation-of-transmission-wrench-screws)
  - [Step3: Obtain the Output Twist Screws of the motion of the platform](step3-obtain-the-output-twist-screws-of-the-motion-of-the-platform)
  - [Step4: figure out the Transmission Index when the TWS and OTS have been gotten](step4-figure-out-the-transmission-index-when-tws-and-ots-have-been-gotten)
  - [Step5: Fathom out the OATI when the configuration and position of the manipulator are constant](#step5-fathom-out-the-aoti-when-the-configuration-and-position-of-the-manipulator-are-constant)
  - [Step6: work out the GTIc when the configuration of the manipulator is given](#step6-work-out-the-gtic-when-the-configuration-of-the-manipulator-is-given)
  - [Step7: seek the optimal configuration for manipulator based on the GTIc](#step7-seek-the-optimal-configuration-for-the-manipulator-based-on-gtic)
- [Class Methods Overview](#class-methods-overview)

## Explanation of Screw Theory and Global Transmission Index
Super quick review of Screw Theory.

A screw can be used to describe the movement of a rigid body, usually called twist screw, and also can be used to describe the generalized force applied on a rigid body named wrench screw.

The physical significance of the reciprocal product is the instantaneous power generated by the wrench screw on the rigid body which is moving under the motion described by the twist screw . The reciprocal product between the twist screw St and the wrench screw Sw is the instantaneous power generated by the two screws.

<img src="https://github.com/user-attachments/assets/d453e48e-d585-47a6-b435-a3df827c7b79" width="600" />

The instantaneous power can be defined as:

<img src="https://github.com/user-attachments/assets/49288b5e-36e2-4362-a4f4-41bbe0d49b9b" width="400" />

For most mechanisms, the prime function is to transmit motion from the input joint to the output joint and the end effector, so the motion of the output joint and the end effector caused by the movement of the input joint represented in screw format is called the output twist screw (OTS). Similarly, the external load exerted on the output joint and the end effector is transmitted to the input joint, so the internal wrench caused by the external load represented in screw format is called the transmission wrench screw (TWS).

<img src="https://github.com/user-attachments/assets/9d41ced8-2214-4a2d-bc13-04e7864a7b98" width="400" />

The definition of TI (transmission index) for spatial mechanisms is the ratio of instantaneous power and the maximum power generated by the unit TWS (Transmission Wrench Screw Sw) and OTS (Output Twist Screw St) on a rigid body. Hence, the TI between TWS and OTS can be represented as

<img src="https://github.com/user-attachments/assets/f12e8bf9-544f-4c7e-8793-a0e2f0056da9" width="350" />

We can then integrate the transmission index TI , in the whole workspace to obtain a Global Transmission Index relative to the platform joint configuration [r_b, r_p , phi_p , phi_b]. We can then vary the joint configuration to find the configuration which maximises the Global Transmission Index.

<img src="https://github.com/user-attachments/assets/52922e48-77cf-406b-afbc-8c16aec35cf1" width="450" />


## Installation

Ensure you have the required libraries:

```bash
import numpy as np
from scipy.spatial.transform import Rotation as R
import matplotlib.pyplot as plt
from google.colab import drive
from scipy.spatial.distance import cdist

```

## Procedure

### Step1: Definition of the Space Docking Mechanism
The steps to obtain an offline set of singular configurations is presented here below.

### Step2: Calculation of Transmission Wrench Screws
### Step3: Obtain the Output Twist Screws of the motion of the platform
### Step4: figure out the Transmission Index when the TWS and OTS have been gotten
### Step5: Fathom out the OATI when the configuration and position of the manipulator are constant
### Step6: work out the GTIc when the configuration of the manipulator is given
### Step7: seek the optimal configuration for manipulator based on the GTIc

## Class Methods Overview
- **getIK(pose):** Computes inverse kinematics.
- **getFK(starting_pose, lengths_desired):** Computes forward kinematics.
- **getLocalConditionIndexT():** Calculates the local condition index of Transposed Jacobian
- **getPlatformForces(F_actuators):** Computes platform forces from actuator forces.
- **getSingularityWorkspace(workspace_limits,orientation_limits,N_pos,N_orient):** Evaluate singularities over a range of positions in the workspace.
- **plot():** Plots the Stewart platform configuration.
